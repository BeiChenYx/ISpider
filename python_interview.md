# Python面试题记录总结

## 使用redis搭建分布式系统时如何处理网络延迟和网络异常？

由于网络异常的存在，分布式系统中请求结果存在 三态 的概念，即，成功，失败，超时;

当出现超时时可以通过发起读取数据的操作以验证RPC是否成功;

另一种简单的做法是，设计分布式协议时将执行步骤设计为可重试的;

## 是否了解谷歌的无头浏览器？

无头浏览器是一种没有界面的浏览器，和python中selenium模块中的PhantomJS类似;

## 是否了解MySQL数据库的几种引擎？

1. InnoDB, 是一个健壮的事务型存储引擎，适用于以下情况:

    * 更新密集的表;
    * 事务
    * 自动灾难恢复;
    * 外键约束;
    * 支持自动增加列;

2. MEMORY, 采用的逻辑存储是内存，响应速度快，存储表数据性能高，但在mysql守护进程崩溃的时候内存中的数据会丢失，适用以下情况:

    * 目标数据较小，而且被非常频繁的访问;
    * 如果数据是临时的，而且要求必须立即可用;
    * 存储的内存表中的数据突然丢失，不会对应用服务产生实质性的负面影响;

## redis数据库有哪几种数据结构？

redis哟五种数据结构， 分别是:

    1. string 字符串不会区分字符串含义，json， xml都当普通字符串;
    2. hash 键值对;
    3. list 值是string数组;
    4. set 集合，用户存储不重复的值，无序;
    5. sorted set 有序集合;

## dict的 items() 方法与 iteritems() 方法的不同？

* 在python2中items() 方法将所有的字典以列表方式返回，返回没有顺序;
* 在python2中iteritems() 返回一个迭代器，其他和items()类似;
* 在Python3中已经取消了iteritems()，都使用items(), 并且返回的是一个迭代器;

## Python里面如何拷贝一个对象？ deepcopy和copy 的区别在哪？

* copy 仅拷贝对象本身，而不拷贝对象中引用的其他对象;
* deepcopy 除了拷贝对象本身，而且拷贝对象中引用的其他对象;

## re模块中 match 和 search 方法的不同？

* match() 函数只检查 RE 是否在字符串开始出匹配，
* search() 则是扫描整个字符串;

## 解释器生成器(generator) 与 函数的不同

生成器和函数的主要区别在于函数 return avalue, 生成器 yield avalue同时标记或记忆point of the yield以便于在下次调用时从标记点恢复执行。yield使函数转换成生成器，而生成器反过来又返回迭代器.

## Python是如何进行内存管理的？

从三个方面来说: 对象的引用计数机制， 垃圾回收机制， 内存池机制. 具体如下:

    1. 对象的引用计数机制;
        python内部使用引用计数，来保持追踪内存中的对象，所有对象都有计数。
        引用计数增加的情况:
            * 一个对象分配一个新名称；
            * 将对象放到一个容器中；
        引用计数减少的情况:
            * 使用del语句对对象别名显示的销毁;
            * 引用超出作用域或被从新赋值;
    2. 垃圾回收机制;
        * 当一个对象的引用计数归零时， 它将被垃圾收集机制处理掉;
        * 解析器会定期执行一次循环检测器，搜索不可访问的对象的循环并删除;
    3. 内存池机制;
       python提供了对内存的垃圾收集机制，但是它将不用的内存放到内存池而不是返回给操作系统。
        * pymalloc机制，为了加速python的执行效率，python引入了一个内存池机制，用于管理对小块内存的申请和释放。
        * Python对所有小于256个字节对象都使用pymalloc实现的分配器，而大的对象则使用系统的mallo.
        * 对于Python对象，如整数，浮点数和list, 都有独立的私有内存池，对象间不共享他们的内存池。也就是说如果你分配有释放大量的整数，用于缓存这些整数的内存就不能再分配个浮点数。

## Python参数传递是值传递还是引用传递

Python参数传递都是引用传递，对于不可改变的数据类型来说，不能改变，如果改变了，事实上是新创建了一个对象;